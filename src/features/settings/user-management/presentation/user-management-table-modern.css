/**
 * Modern Table Styles - Tailwind-inspired design
 */

/* Main Table Container */
.table-container-modern {
    background: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    overflow: hidden;
    width: 100%;
    margin-top: 1.5rem;
}

/* Dark mode support removed - table always uses light theme */

/* Table Header Section */
.table-header-modern {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid #e5e7eb;
}

/* Moved to responsive section below */

/* Search Section */
.search-section {
    width: 100%;
}

/* Moved to responsive section below */

.search-form {
    width: 100%;
}

.search-input-wrapper {
    position: relative;
    width: 100%;
}

.search-icon-wrapper {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    padding-left: 0.75rem;
    pointer-events: none;
}

.search-icon {
    width: 1.25rem;
    height: 1.25rem;
    color: #6b7280;
}

.search-input {
    width: 100%;
    padding: 0.5rem 0.75rem 0.5rem 2.5rem;
    background-color: #f9fafb;
    border: 1px solid #d1d5db;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    color: #111827;
}

.search-input:focus {
    outline: none;
    border-color: #1A733E;
    background-color: #ffffff;
    box-shadow: 0 0 0 3px rgba(26, 115, 62, 0.1);
}

.search-input::placeholder {
    color: #9ca3af;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Actions Section */
.actions-section {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
}

/* Moved to responsive section below */

/* Create Button */
.btn-create-modern {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background-color: #1A733E;
    color: #ffffff;
    font-weight: 500;
    font-size: 0.875rem;
    border: none;
    border-radius: 0.5rem;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
}

.btn-create-modern:hover {
    background-color: #15582E;
}

.btn-create-modern:focus {
    outline: none;
    ring: 4px;
    ring-color: rgba(26, 115, 62, 0.3);
}

.btn-icon {
    width: 0.875rem;
    height: 0.875rem;
}

/* Dropdown Wrapper */
.dropdown-wrapper {
    position: relative;
}

.btn-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background-color: #ffffff;
    color: #111827;
    font-weight: 500;
    font-size: 0.875rem;
    border: 1px solid #d1d5db;
    border-radius: 0.5rem;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
    width: 100%;
}

/* Moved to responsive section below */

.btn-dropdown:hover {
    background-color: #f9fafb;
    color: #1A733E;
}

.btn-dropdown:focus {
    outline: none;
    ring: 4px;
    ring-color: rgba(0, 0, 0, 0.1);
}

.dropdown-icon {
    width: 1.25rem;
    height: 1.25rem;
}

.filter-icon {
    width: 1rem;
    height: 1rem;
    margin-right: 0.5rem;
    color: #6b7280;
}

/* Dropdown Menu */
.dropdown-menu {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.25rem;
    background-color: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 1px solid #e5e7eb;
    z-index: 50;
    min-width: 11rem;
    display: none;
}

/* Mobile: Full width dropdowns, hide filter options labels */
@media (max-width: 639px) {
    .dropdown-menu {
        left: 0;
        right: 0;
        width: 100%;
        min-width: auto;
    }

    .filter-dropdown-menu {
        left: 0;
        right: 0;
        width: 100%;
    }
    
    /* Hide filter labels on mobile to save space */
    .filter-label {
        display: none;
    }
    
    .filter-title {
        font-size: 0.75rem;
        margin-bottom: 0.5rem;
    }
}

.dropdown-menu.show {
    display: block;
}

.dropdown-list {
    list-style: none;
    padding: 0.25rem 0;
    margin: 0;
}

.dropdown-item {
    display: block;
    padding: 0.5rem 1rem;
    color: #374151;
    font-size: 0.875rem;
    text-decoration: none;
    cursor: pointer;
}

.dropdown-item:hover {
    background-color: #f9fafb;
    color: #111827;
}

/* Filter Dropdown */
.filter-dropdown-menu {
    min-width: 12rem;
    padding: 0.75rem;
}

.filter-title {
    margin-bottom: 0.75rem;
    font-size: 0.875rem;
    font-weight: 500;
    color: #111827;
}

.filter-content {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.filter-label {
    font-size: 0.75rem;
    font-weight: 500;
    color: #374151;
}

.filter-select {
    padding: 0.5rem;
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    background-color: #ffffff;
    color: #111827;
    cursor: pointer;
}

.filter-select:focus {
    outline: none;
    border-color: #1A733E;
    box-shadow: 0 0 0 3px rgba(26, 115, 62, 0.1);
}

/* Table Wrapper */
.table-wrapper {
    overflow-x: auto;
}

/* Modern Table Styles */
.users-table-modern {
    width: 100%;
    text-align: left;
    font-size: 0.75rem;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: #6b7280;
    border-collapse: collapse;
}

.users-table-modern thead {
    background-color: #f9fafb;
    color: #374151;
}

.users-table-modern thead th {
    padding: 0.5rem 0.75rem;
    font-weight: 600;
    font-size: 0.6875rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: #374151;
    border-bottom: 1px solid #e5e7eb;
}

.users-table-modern tbody tr {
    border-bottom: 1px solid #e5e7eb;
    border-left: 0.1875rem solid transparent;
}

.users-table-modern tbody tr:hover {
    background-color: #f9fafb;
    border-left-color: #1A733E;
}

.users-table-modern tbody tr.user-row {
    cursor: pointer;
}

.users-table-modern tbody tr.user-row:focus {
    outline: 2px solid #1A733E;
    outline-offset: -2px;
    background-color: #f0fdf4;
    border-left-color: #1A733E;
}

.users-table-modern tbody tr.user-row:focus-within {
    background-color: #f9fafb;
}

.users-table-modern tbody td {
    padding: 0.5rem 0.75rem;
    color: #111827;
    vertical-align: middle;
    font-size: 0.75rem;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.4;
}

/* Ensure all text elements in table cells use consistent font */
.users-table-modern tbody td *,
.users-table-modern tbody td span,
.users-table-modern tbody td div {
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Ensure consistent font for all table content */
.users-table-modern tbody td,
.users-table-modern tbody th {
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
}

.users-table-modern tbody th {
    padding: 0.5rem 0.75rem;
    font-weight: 500;
    color: #111827;
    white-space: nowrap;
    font-size: 0.75rem;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.4;
}

/* Action Dropdown in Table */
.action-dropdown-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

.action-dropdown-button {
    display: inline-flex;
    align-items: center;
    padding: 0.125rem;
    font-size: 0.875rem;
    font-weight: 500;
    text-align: center;
    color: #6b7280;
    border: none;
    background: transparent;
    border-radius: 0.5rem;
    cursor: pointer;
}

.action-dropdown-button:hover {
    color: #111827;
}

.action-dropdown-button:focus {
    outline: none;
    ring: 2px;
    ring-color: rgba(0, 0, 0, 0.1);
}

.action-dropdown-menu {
    position: absolute;
    right: 0;
    top: 100%;
    margin-top: 0.25rem;
    background-color: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 1px solid #e5e7eb;
    z-index: 50;
    min-width: 11rem;
    display: none;
}

/* Mobile: Adjust action dropdown position */
@media (max-width: 639px) {
    .action-dropdown-menu {
        right: 0;
        left: auto;
        min-width: 10rem;
    }
}

.action-dropdown-menu.show {
    display: block;
}

.action-dropdown-list {
    list-style: none;
    padding: 0.25rem 0;
    margin: 0;
    border-top: 1px solid #e5e7eb;
}

.action-dropdown-list:first-child {
    border-top: none;
}

.action-dropdown-item {
    display: block;
    padding: 0.5rem 1rem;
    color: #374151;
    font-size: 0.875rem;
    text-decoration: none;
    cursor: pointer;
}

.action-dropdown-item:hover {
    background-color: #f9fafb;
    color: #111827;
}

.action-dropdown-item.danger {
    color: #dc2626;
}

.action-dropdown-item.danger:hover {
    background-color: #fee2e2;
    color: #991b1b;
}

/* Pagination */
.table-pagination {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding: 1rem;
    border-top: 1px solid #e5e7eb;
    align-items: flex-start;
}

/* Moved to responsive section below */

.pagination-info {
    font-size: 0.875rem;
    font-weight: 400;
    color: #6b7280;
}

.pagination-info strong {
    font-weight: 600;
    color: #111827;
}

.pagination-controls {
    display: inline-flex;
    align-items: stretch;
    gap: 0;
    list-style: none;
    padding: 0;
    margin: 0;
    -space-x-px: 0;
}

.pagination-controls li {
    list-style: none;
}

.pagination-button {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
    color: #6b7280;
    background-color: #ffffff;
    border: 1px solid #d1d5db;
    cursor: pointer;
    text-decoration: none;
}

.pagination-controls li:first-child .pagination-button {
    border-top-left-radius: 0.5rem;
    border-bottom-left-radius: 0.5rem;
}

.pagination-controls li:last-child .pagination-button {
    border-top-right-radius: 0.5rem;
    border-bottom-right-radius: 0.5rem;
}

.pagination-controls li:not(:last-child) .pagination-button {
    border-right: none;
}

.pagination-button:hover {
    background-color: #f9fafb;
    color: #111827;
}

.pagination-button.active {
    z-index: 10;
    color: #1A733E;
    background-color: #f0fdf4;
    border-color: #1A733E;
}

.pagination-button:disabled,
.pagination-button.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.pagination-button:disabled:hover,
.pagination-button.disabled:hover {
    background-color: #ffffff;
    color: #6b7280;
}

/* Loading and Error States */
.loading-state {
    text-align: center;
    padding: 3rem;
}

.loading-state .spinner {
    width: 3rem;
    height: 3rem;
    border: 0.25rem solid rgba(26, 115, 62, 0.2);
    border-top-color: #1A733E;
    border-radius: 50%;
    margin: 0 auto 1rem;
    /* Animation removed */
}

/* Animation removed - no spinning loader */

.error-state {
    text-align: center;
    padding: 2rem;
    max-width: 600px;
    margin: 0 auto;
}

.empty-state {
    text-align: center;
    padding: 3rem;
    max-width: 500px;
    margin: 0 auto;
}

/* User info styles */
.user-info {
    display: flex;
    flex-direction: column;
    gap: 0.1875rem;
}

.user-name-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.user-name-row span {
    font-weight: 600;
    color: #111827;
    font-size: 0.75rem;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.3;
}

.user-email-row {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.6875rem;
    color: #6b7280;
    font-weight: 400;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.3;
}

.user-avatar {
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.625rem;
    color: white;
    background: linear-gradient(135deg, #1A733E, #15582E);
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.3);
    position: relative;
    overflow: hidden;
}

.user-avatar-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    display: block;
}

.user-avatar-initials {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Role badges - Plain rounded chips (no animations, no gradients) */
.role-badge {
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    font-size: 0.625rem;
    font-weight: 500;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    line-height: 1.3;
    border: 1px solid !important;
    /* No transitions, no animations, no hover effects, no gradients */
    background-image: none !important;
    box-shadow: none !important;
    transition: none !important;
}

.role-super-admin {
    background-color: #fef3c7 !important;
    background-image: none !important;
    color: #78350f;
    border-color: #fde68a;
}

.role-admin {
    background-color: #dbeafe !important;
    background-image: none !important;
    color: #1e3a8a;
    border-color: #bfdbfe;
}

.role-quality-analyst {
    background-color: #d1fae5 !important;
    background-image: none !important;
    color: #064e3b;
    border-color: #a7f3d0;
}

.role-employee {
    background-color: #f3f4f6 !important;
    background-image: none !important;
    color: #1f2937;
    border-color: #e5e7eb;
}

.role-general-user {
    background-color: #e5e7eb !important;
    background-image: none !important;
    color: #374151;
    border-color: #d1d5db;
}

/* Status indicators */
.status-active {
    color: #10b981;
    font-weight: 600;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: 0.75rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    line-height: 1.3;
}

.status-active::before {
    content: '';
    width: 0.375rem;
    height: 0.375rem;
    border-radius: 50%;
    background-color: #10b981;
    display: inline-block;
    box-shadow: 0 0 0 1.5px rgba(16, 185, 129, 0.2);
}

.status-inactive {
    color: #ef4444;
    font-weight: 600;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: 0.75rem;
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    line-height: 1.3;
}

.status-inactive::before {
    content: '';
    width: 0.375rem;
    height: 0.375rem;
    border-radius: 50%;
    background-color: #ef4444;
    display: inline-block;
    box-shadow: 0 0 0 1.5px rgba(239, 68, 68, 0.2);
}

/* ============================================
   RESPONSIVE DESIGN - 3 BREAKPOINTS
   Mobile: < 640px (default)
   Tablet: 640px - 1024px
   Desktop: > 1024px
   ============================================ */

/* Mobile First - Base Styles (< 640px) */
.table-container-modern {
    margin-top: 1rem;
    border-radius: 0.375rem;
}

.table-header-modern {
    padding: 0.75rem;
    gap: 0.75rem;
}

.search-section {
    width: 100%;
}

.actions-section {
    flex-direction: column;
    width: 100%;
    gap: 0.5rem;
}

.btn-create-modern,
.btn-dropdown {
    width: 100%;
    justify-content: center;
    padding: 0.625rem 1rem;
    font-size: 0.8125rem;
}

.table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.users-table-modern {
    min-width: 800px; /* Force horizontal scroll on mobile */
    font-size: 0.6875rem;
}

.users-table-modern thead th,
.users-table-modern tbody td {
    padding: 0.5rem 0.5rem;
    white-space: nowrap;
}

/* Hide most columns on mobile - show only essential info */
@media (max-width: 639px) {
    /* Hide: ID, Department, Channel, Team, Designation, Team Supervisor, Quality Mentor, Intercom Admin, Country */
    .users-table-modern th:nth-child(2), /* ID */
    .users-table-modern td:nth-child(2),
    .users-table-modern th:nth-child(4), /* Department */
    .users-table-modern td:nth-child(4),
    .users-table-modern th:nth-child(5), /* Channel */
    .users-table-modern td:nth-child(5),
    .users-table-modern th:nth-child(6), /* Team */
    .users-table-modern td:nth-child(6),
    .users-table-modern th:nth-child(7), /* Designation */
    .users-table-modern td:nth-child(7),
    .users-table-modern th:nth-child(8), /* Team Supervisor */
    .users-table-modern td:nth-child(8),
    .users-table-modern th:nth-child(9), /* Quality Mentor */
    .users-table-modern td:nth-child(9),
    .users-table-modern th:nth-child(10), /* Intercom Admin */
    .users-table-modern td:nth-child(10),
    .users-table-modern th:nth-child(12) { /* Country */
        display: none;
    }
    
    .users-table-modern td:nth-child(12) {
        display: none;
    }
    
    /* Reduce table min-width since we're showing fewer columns */
    .users-table-modern {
        min-width: 500px;
    }
    
    /* Simplify pagination info on mobile */
    .pagination-info {
        font-size: 0.75rem;
    }
    
    /* Hide pagination page numbers, show only prev/next */
    .pagination-controls li:not(:first-child):not(:last-child) {
        display: none;
    }
    
    /* Simplify user info display - make email smaller and more compact */
    .user-email-row {
        font-size: 0.625rem;
        gap: 0.25rem;
    }
    
    .user-name-row {
        gap: 0.25rem;
    }
    
    /* Make role badge smaller */
    .role-badge {
        font-size: 0.5625rem;
        padding: 0.1875rem 0.375rem;
    }
    
    /* Compact status indicator */
    .status-active,
    .status-inactive {
        font-size: 0.6875rem;
    }
}

.user-avatar {
    width: 1.25rem;
    height: 1.25rem;
    font-size: 0.5rem;
}

.table-pagination {
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.75rem;
}

.pagination-controls {
    flex-wrap: wrap;
    justify-content: center;
}

.pagination-button {
    padding: 0.375rem 0.5rem;
    font-size: 0.75rem;
}

/* Bulk Actions Bar - Mobile */
.bulk-actions-bar {
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.75rem;
}

.bulk-actions {
    flex-direction: column;
    width: 100%;
    gap: 0.5rem;
}

.bulk-edit-select,
.btn-bulk-apply {
    width: 100%;
}

/* Mobile: Simplify bulk actions - hide some selects */
@media (max-width: 639px) {
    .bulk-actions-bar {
        padding: 0.625rem;
        gap: 0.5rem;
    }
    
    .bulk-info {
        font-size: 0.75rem;
    }
    
    /* Hide less important bulk edit options on mobile */
    #bulkEditTeam,
    #bulkEditDepartment,
    #bulkEditChannel,
    #bulkEditTeamSupervisor,
    #bulkEditQualitySupervisor {
        display: none;
    }
    
    /* Show only Role and Apply button */
    #bulkEditRole,
    .btn-bulk-apply {
        display: block;
    }
}

/* Tablet Styles (640px - 1024px) */
@media (min-width: 640px) {
    .table-container-modern {
        margin-top: 1.25rem;
    }

    .table-header-modern {
        padding: 1rem;
        gap: 1rem;
    }

    .search-section {
        width: 100%;
        max-width: 20rem;
    }

    .actions-section {
        flex-direction: row;
        width: auto;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .btn-create-modern,
    .btn-dropdown {
        width: auto;
        min-width: 8rem;
    }

    .users-table-modern {
        font-size: 0.75rem;
        min-width: 900px;
    }

    .users-table-modern thead th,
    .users-table-modern tbody td {
        padding: 0.5rem 0.625rem;
    }

    .user-avatar {
        width: 1.5rem;
        height: 1.5rem;
        font-size: 0.5625rem;
    }

    .table-pagination {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
    }

    .pagination-button {
        padding: 0.375rem 0.75rem;
        font-size: 0.875rem;
    }

    .bulk-actions-bar {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
    }

    .bulk-actions {
        flex-direction: row;
        width: auto;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .bulk-edit-select {
        width: auto;
        min-width: 10rem;
    }

    .btn-bulk-apply {
        width: auto;
        min-width: 8rem;
    }
}

/* Desktop Styles (> 1024px) */
@media (min-width: 1024px) {
    .table-container-modern {
        margin-top: 1.5rem;
    }

    .table-header-modern {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 1rem;
    }

    .search-section {
        width: 50%;
        max-width: none;
    }

    .actions-section {
        flex-direction: row;
        width: auto;
        flex-wrap: nowrap;
        gap: 0.5rem;
    }

    .users-table-modern {
        font-size: 0.75rem;
        min-width: 100%;
        width: 100%;
    }

    .users-table-modern thead th,
    .users-table-modern tbody td {
        padding: 0.5rem 0.75rem;
        white-space: normal;
    }

    /* Show all columns on desktop */
    .users-table-modern th,
    .users-table-modern td {
        display: table-cell;
    }

    .user-avatar {
        width: 1.5rem;
        height: 1.5rem;
        font-size: 0.625rem;
    }

    .bulk-actions {
        flex-wrap: nowrap;
    }

    .bulk-edit-select {
        min-width: 12rem;
    }
}
